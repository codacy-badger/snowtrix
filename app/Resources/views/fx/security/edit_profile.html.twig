{% extends 'base.html.twig' %}

{% block body %}

<section id="wrapper">
    <section class="wrapper spotlight style2 snowtrix-solo-wrapper edit-profile-wrapper">
        <div class="inner snowtrix-fx-style">
            <h1>Modification de votre profil</h1>

            <div class="snowtrix-fx-panel">
                <h2>Photo de profil </h2>

                {{ form_start(editProfileForm) }}
                {% if editProfileForm.vars.errors|length %}
                    <div class="error-message">
                        Erreur(s) : </br>
                        {{ form_errors(editProfileForm) }}
                    </div>
                {% endif %}

                {% if app.user.avatarWebUrl is not null %}
                    <img src="{{ asset(app.user.avatarWebUrl) }}" alt="Avatar de {{ app.user.username }}"/>
                {% else %}
                    <img src="{{ user_default_avatar_src }}" alt="Avatar de {{ app.user.username }}"/>
                {% endif %}

                {{ form_row(editProfileForm.avatar) }}

                <button type="submit">Modifier le profil</button>
                {{ form_end(editProfileForm) }}
            </div>


            <div class="snowtrix-fx-panel">
                <h2>Sécurité</h2>
                <h3>Modifier mon mot de passe</h3>

                {{ form_start(changePasswordForm) }}
                {% if changePasswordForm.vars.errors|length %}
                    <div class="error-message">
                        Erreur(s) : </br>
                        {{ form_errors(changePasswordForm) }}
                    </div>
                {% endif %}


                {{ form_row(changePasswordForm.currentPlainPassword) }}
                {{ form_row(changePasswordForm.plainPassword.first) }}
                {{ form_row(changePasswordForm.plainPassword.second) }}

                <button type="submit">Modifier mon mot de passe</button>
                {{ form_end(changePasswordForm) }}
            </div>

        </div>
    </section>
</section>
{% endblock %}
